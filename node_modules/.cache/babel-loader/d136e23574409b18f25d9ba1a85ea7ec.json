{"ast":null,"code":"var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport * as ReactDOM from 'react-dom';\nimport { useState, useEffect } from 'react';\nimport PortalBody from './PortalBody';\nimport Spinner from './Spinner';\nimport { PREFIX } from './constants';\nimport { $, defer } from './utils';\n\nconst Portal = ({\n  children,\n  id,\n  hashId,\n  modalSet,\n  initialization,\n  pending,\n  isOpen,\n  close,\n  allowClickOutside,\n  duration,\n  modalStyle,\n  spinner,\n  spinnerColor,\n  draggable\n}) => {\n  const [isCreatedPortal, setCreatedPortal] = useState(false);\n  useEffect(() => {\n    (() => __awaiter(void 0, void 0, void 0, function* () {\n      if (!isOpen) {\n        yield defer(duration);\n        const portal = $(`.${PREFIX.PORTAL}${hashId}`);\n        const style = $(`[data-modal-style=\"${PREFIX.PORTAL}${hashId}`);\n        portal === null || portal === void 0 ? void 0 : portal.remove();\n        style === null || style === void 0 ? void 0 : style.remove();\n        return setCreatedPortal(false);\n      }\n\n      const portal = document.createElement('div');\n      portal.classList.add(`${PREFIX.PORTAL}${hashId}`);\n      body.appendChild(portal);\n      const style = document.createElement('style');\n      style.setAttribute('data-modal-style', `${PREFIX.PORTAL}${hashId}`);\n      style.textContent = modalStyle;\n      head.appendChild(style);\n      setCreatedPortal(true);\n    }))();\n  }, [isOpen]);\n  useEffect(() => {\n    if (!initialization || isOpen) return;\n    modalSet.delete(id);\n  }, [isOpen]);\n  if (!isCreatedPortal || !initialization) return null;\n  if (pending) return _jsx(Spinner, {\n    spinner: spinner,\n    spinnerColor: spinnerColor\n  }, void 0);\n  return ReactDOM.createPortal(_jsx(PortalBody, Object.assign({\n    isOpen: isOpen,\n    close: close,\n    allowClickOutside: allowClickOutside,\n    draggable: draggable\n  }, {\n    children: children\n  }), void 0), $(`.${PREFIX.PORTAL}${hashId}`));\n};\n\nconst body = document.body;\nconst head = document.head;\nexport default Portal;","map":{"version":3,"sources":["/Users/hdewey/Documents/repos/IYA/react-mural/node_modules/react-simple-modal-provider/dist/Portal.js"],"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","jsx","_jsx","ReactDOM","useState","useEffect","PortalBody","Spinner","PREFIX","$","defer","Portal","children","id","hashId","modalSet","initialization","pending","isOpen","close","allowClickOutside","duration","modalStyle","spinner","spinnerColor","draggable","isCreatedPortal","setCreatedPortal","portal","PORTAL","style","remove","document","createElement","classList","add","body","appendChild","setAttribute","textContent","head","delete","createPortal","Object","assign"],"mappings":"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","sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport * as ReactDOM from 'react-dom';\nimport { useState, useEffect } from 'react';\nimport PortalBody from './PortalBody';\nimport Spinner from './Spinner';\nimport { PREFIX } from './constants';\nimport { $, defer } from './utils';\nconst Portal = ({ children, id, hashId, modalSet, initialization, pending, isOpen, close, allowClickOutside, duration, modalStyle, spinner, spinnerColor, draggable, }) => {\n    const [isCreatedPortal, setCreatedPortal] = useState(false);\n    useEffect(() => {\n        (() => __awaiter(void 0, void 0, void 0, function* () {\n            if (!isOpen) {\n                yield defer(duration);\n                const portal = $(`.${PREFIX.PORTAL}${hashId}`);\n                const style = $(`[data-modal-style=\"${PREFIX.PORTAL}${hashId}`);\n                portal === null || portal === void 0 ? void 0 : portal.remove();\n                style === null || style === void 0 ? void 0 : style.remove();\n                return setCreatedPortal(false);\n            }\n            const portal = document.createElement('div');\n            portal.classList.add(`${PREFIX.PORTAL}${hashId}`);\n            body.appendChild(portal);\n            const style = document.createElement('style');\n            style.setAttribute('data-modal-style', `${PREFIX.PORTAL}${hashId}`);\n            style.textContent = modalStyle;\n            head.appendChild(style);\n            setCreatedPortal(true);\n        }))();\n    }, [isOpen]);\n    useEffect(() => {\n        if (!initialization || isOpen)\n            return;\n        modalSet.delete(id);\n    }, [isOpen]);\n    if (!isCreatedPortal || !initialization)\n        return null;\n    if (pending)\n        return _jsx(Spinner, { spinner: spinner, spinnerColor: spinnerColor }, void 0);\n    return ReactDOM.createPortal(_jsx(PortalBody, Object.assign({ isOpen: isOpen, close: close, allowClickOutside: allowClickOutside, draggable: draggable }, { children: children }), void 0), $(`.${PREFIX.PORTAL}${hashId}`));\n};\nconst body = document.body;\nconst head = document.head;\nexport default Portal;\n"]},"metadata":{},"sourceType":"module"}